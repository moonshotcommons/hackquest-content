# Content/æ¦‚å¿µ

Rust åŸºæœ¬æ•°æ®ç±»å‹ä¸­æœ€å¸¸ç”¨çš„æ•°å€¼ç±»å‹ï¼šæœ‰ç¬¦å·æ•´æ•° (`i8`, `i16`, `i32`, `i64`, `isize`)ã€ æ— ç¬¦å·æ•´æ•° (`u8`, `u16`, `u32`, `u64`, `usize`) ã€æµ®ç‚¹æ•° (`f32`, `f64`)ã€‚

**æ•´æ•°**æ˜¯ æ²¡æœ‰å°æ•°éƒ¨åˆ†çš„æ•°å­—ï¼Œå…·ä½“æœ‰å¦‚ä¸‹å‡ ç§ç±»å‹ï¼š

![æ•°å€¼ç±»å‹.png](./img/3-1.png)

è¡¨ç¤ºæ–¹å¼ä¸º **æœ‰æ— ç¬¦å· + ç±»å‹å¤§å°ï¼ˆä½æ•°ï¼‰**ï¼Œ`i` æ˜¯è‹±æ–‡å•è¯ *integer* çš„é¦–å­—æ¯ï¼Œä»£è¡¨æœ‰ç¬¦å·ç±»å‹ï¼ŒåŒ…å«è´Ÿæ•´æ•°ã€0å’Œæ­£æ•´æ•°ï¼Œä¸ä¹‹ç›¸åçš„æ˜¯ `u`ï¼Œä»£è¡¨æ— ç¬¦å· `unsigned` ç±»å‹ï¼ŒåŒ…å«0å’Œæ­£æ•´æ•°ã€‚Rusté»˜è®¤çš„æ•´æ•°ç±»å‹æ˜¯ `i32`ï¼Œå³ç”¨32ä¸ªbitä½è¡¨ç¤ºæœ‰ç¬¦å·çš„æ•´æ•°ã€‚

**æµ®ç‚¹ç±»å‹æ•°å­—** æ˜¯å¸¦æœ‰å°æ•°ç‚¹çš„æ•°å­—ï¼Œåœ¨ Rust ä¸­æµ®ç‚¹ç±»å‹æ•°å­—ä¹Ÿæœ‰ä¸¤ç§åŸºæœ¬ç±»å‹ï¼š `f32` å’Œ `f64`ï¼Œåˆ†åˆ«ä¸º 32 ä½å’Œ 64 ä½å¤§å°ã€‚é»˜è®¤æµ®ç‚¹ç±»å‹æ˜¯ `f64`ã€‚

- æ¯”å–»
    
    åœ¨è®¸å¤šç¼–ç¨‹è¯­è¨€ä¸­éƒ½ä¼šæŠŠæ•°å€¼ç±»å‹ç»†åˆ†ä¸ºè®¸å¤šç§ï¼ˆå¦‚i8ã€i16ã€i32â€¦â€¦ï¼‰ï¼Œè¿™ä¹ˆåšçš„ä¸€ä¸ªé‡è¦è€ƒé‡å°±æ˜¯ä¸ºäº†èŠ‚çœå†…å­˜å ç”¨å’Œæ€§èƒ½ä¼˜åŒ–ã€‚æ¯”å¦‚ä½ è¦è£…1ä¸ªè‹¹æœï¼Œå¯ä»¥é€‰æ‹©æ”¾åœ¨æ‰‹é‡Œã€ç›˜å­ã€ä¹¦åŒ…é‡Œï¼Œä½†å¦‚æœç”¨é”…çš„è¯ï¼Œæ˜¯å¦æ˜¯æœ‰ç‚¹â€œå¤§é”…å°ç”¨â€ã€‚ğŸ˜‚
    
- çœŸå®ç”¨ä¾‹
    
    solana åœ¨è°ƒç”¨é“¾ä¸Šç¨‹åºï¼ˆæ™ºèƒ½åˆçº¦ï¼‰æ—¶ï¼Œä¼ é€’çš„å‚æ•°å³ä¸º u8 ç±»å‹çš„æ•°ç»„ã€‚è€ŒåŸç”Ÿä»£å¸`sol`åˆ™ä¸º u64 ä½ã€‚
    
    ```rust
    pub fn process_instruction(
        program_id: &Pubkey,
        accounts: &[AccountInfo],
    		// ç¨‹åºï¼ˆæ™ºèƒ½åˆçº¦ï¼‰æ¥æ”¶åˆ°çš„å…¥å‚
        instruction_data: &[u8]
    ) -> ProgramResult {}
    
    // solana_program::native_token::LAMPORTS_PER_SOL
    pub const LAMPORTS_PER_SOL: u64 = 1_000_000_000;
    ```
    

### Documentation

æˆ‘ä»¬åœ¨æ¥ä¸‹æ¥çœ‹ä¸‹æ•°å€¼çš„å®šä¹‰åŠè¡¨ç¤ºæ–¹å¼ã€‚

```solidity
// è¿™é‡Œaä¸ºé»˜è®¤çš„ i32 ç±»å‹
let a = 1;
// å¯ä»¥æŒ‡å®šä¹Ÿå¯ä»¥æŒ‡å®šä¸ºå…·ä½“çš„æ•´æ•°ç±»å‹
let b: u32 = 1;

// è¿™é‡Œcä¸ºé»˜è®¤çš„ f64 ç±»å‹
let c = 1.0;
// ä¹Ÿå¯ä»¥æŒ‡å®šä¸ºå…·ä½“çš„æµ®ç‚¹æ•°ç±»å‹
let d: f32 = 1.0;

// Rustä¸­å¯ä»¥æ–¹ä¾¿çš„ä½¿ç”¨ä¸åŒè¿›åˆ¶æ¥è¡¨ç¤ºæ•°å€¼ï¼Œæ€»æœ‰ä¸€æ¬¾é€‚åˆä½ 
let x: i32 = 100_000_000;
let y: i32 = 0xffab;
let z: i32 = 0o77;
let m: i32 = 0b1111_0000;
let n: u8 = b'A';
println!("x = {}, y = {}, z = {}, m = {}, n = {}", x, y, z, m, n);
```

### FAQ

- Q1ï¼šisize å’Œ usizeåˆ†åˆ«ä»£è¡¨ä»€ä¹ˆæ„æ€ï¼Ÿ
    
    Aï¼š`isize` å’Œ `usize` ç±»å‹å–å†³äºç¨‹åºè¿è¡Œçš„è®¡ç®—æœº CPU ç±»å‹ï¼š è‹¥ CPU æ˜¯ 32 ä½çš„ï¼Œåˆ™è¿™ä¸¤ä¸ªç±»å‹æ˜¯ 32 ä½çš„ï¼ŒåŒç†ï¼Œè‹¥ CPU æ˜¯ 64 ä½ï¼Œé‚£ä¹ˆå®ƒä»¬åˆ™æ˜¯ 64 ä½ã€‚
    

# Example/ç¤ºä¾‹ä»£ç 

Rust æ”¯æŒæ‰€æœ‰æ•°å­—ç±»å‹çš„åŸºæœ¬æ•°å­¦è¿ç®—ï¼šåŠ æ³•ã€å‡æ³•ã€ä¹˜æ³•ã€é™¤æ³•å’Œå–æ¨¡è¿ç®—ï¼Œä½†è®¡ç®—çš„å˜é‡å¿…é¡»æ˜¯**ç›¸åŒçš„æ•°æ®ç±»å‹**ã€‚

```solidity
fn main() {
    // åŠ æ³•ï¼Œé»˜è®¤æ˜¯i32
    let sum = 1 + 2;

    // å‡æ³•ï¼Œé»˜è®¤æ˜¯f64
    let difference = 1.1 - 2.2;

    // ä¹˜æ³•ï¼Œé»˜è®¤æ˜¯i32
    let mul = 2 * 50;

    // é™¤æ³•ï¼Œé»˜è®¤æ˜¯f64
    let div = 1.1 / 2.2;

    // æ±‚ä½™ï¼Œé»˜è®¤æ˜¯i32
    let remainder = 11 % 5;

    println!("sum: {}, difference: {}, mul: {}, div: {}, remainder: {}", sum, difference, mul, div, remainder);

    // ç¼–è¯‘å™¨ä¼šè¿›è¡Œè‡ªåŠ¨æ¨å¯¼ï¼Œç»™äºˆferris i32çš„ç±»å‹
    let ferris = 10;
    // ä¹Ÿå¯ä»¥é€šè¿‡ç±»å‹æ ‡æ³¨ï¼Œæ˜¾å¼å£°æ˜æ•°æ®ç±»å‹
    let ferris_one: i32 = 10;
    // é€šè¿‡ç±»å‹åç¼€çš„æ–¹å¼è¿›è¡Œç±»å‹æ ‡æ³¨ï¼š10æ˜¯i32ç±»å‹
    let ferris_two = 10i32;

    // åªæœ‰åŒæ ·ç±»å‹ï¼Œæ‰èƒ½è¿ç®—
    let addition = ferris + ferris_one + ferris_two;
    println!("{} + {} + {} = {}",ferris, ferris_one, ferris_two, addition);

    // å®šä¹‰ä¸€ä¸ªf32æ•°ç»„ï¼Œå…¶ä¸­12.0ä¼šè‡ªåŠ¨è¢«æ¨å¯¼ä¸ºf32ç±»å‹
    let arr = [1.0, 1.1f32, 1.2_f32];
    // æ‰“å°æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå€¼ arr[0]ï¼Œå¹¶ç”¨ {:.2} æ§åˆ¶å°æ•°ä½ä¸º2ä½
    println!("{:.2}", arr[0]);
}

// æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ä¸‹ Rust åœ¨é‡åˆ°æ•´æ•°è®¡ç®—æº¢å‡ºæ—¶ï¼Œéƒ½æœ‰å“ªäº›å¤„ç†ç­–ç•¥ã€‚

fn main() {
    // u32ä½æ— ç¬¦å·æ•´æ•°æœ€å¤§å€¼
    let a: u32 = 4_294_967_295;
    let b: u32 = 1;
    // è¾“å‡ºç»“æœ
    println!("Original: {}", a);
    println!("Add 1: {}", b);

    // ä½¿ç”¨ wrapping_* æ–¹æ³•åœ¨æ‰€æœ‰æ¨¡å¼ä¸‹éƒ½æŒ‰ç…§è¡¥ç å¾ªç¯æº¢å‡ºè§„åˆ™å¤„ç†ï¼Œå¦‚æœä¸€ä¸ªå€¼è¶…è¿‡æœ€å¤§å€¼ï¼Œå®ƒä¼šä»0å¼€å§‹é‡æ–°è®¡æ•°ã€‚
    let result_wrapping = a.wrapping_add(b);
    // è¿”å› 0
    println!("Wrapping Result: {}", result_wrapping);

    // saturating_* åœ¨æ•´æ•°æº¢å‡ºæ—¶è¿”å›ç›¸åº”ç±»å‹çš„æœ€å¤§å€¼ï¼Œå¦‚æœæ˜¯ä¸‹æº¢ï¼Œåˆ™è¿”å›æœ€å°å€¼ã€‚
    let result_saturating = a.saturating_add(b);
    // è¿”å› 4294967295
    println!("Saturating Result: {}", result_saturating);

    // checked_* è¿”å›å€¼ä¸ºOptionï¼Œæº¢å‡ºæ—¶ä¸º None å€¼ï¼Œå¦åˆ™ä¸ºSome(result)ã€‚å¯ä»¥æ£€æŸ¥æ“ä½œæ˜¯å¦å¯¼è‡´äº†æº¢å‡ºã€‚
    let result_checked = a.checked_add(b);
    // è¿”å› None
    match result_checked {
        Some(result) => println!("Checked Result: {}", result),
        None => println!("Checked Result: Overflow!"),
    }

    // overflowing_* è¿”å›å€¼ä¸º(result, overflowed)ï¼Œç»“æœå€¼å’Œä¸€ä¸ªæŒ‡ç¤ºæ˜¯å¦å­˜åœ¨æº¢å‡ºçš„å¸ƒå°”å€¼
    let (result_overflowing, overflowed) = a.overflowing_add(b);
    // è¿”å› (0, true)
    if overflowed {
        println!("Overflowing Result: Overflow!");
    } else {
        println!("Overflowing Result: {}", result_overflowing);
    }
    
}
```