# Content/æ¦‚å¿µ

**å‡½æ•°**æ˜¯ä¸ªå¾ˆå¸¸è§çš„æ¦‚å¿µï¼Œå®ƒæ˜¯ä¸€æ®µå¯é‡å¤ä½¿ç”¨çš„ä»£ç å—ï¼Œç”¨äºæ‰§è¡Œç‰¹å®šçš„ä»»åŠ¡æˆ–å®Œæˆç‰¹å®šçš„æ“ä½œã€‚å‡½æ•°æ¥å—è¾“å…¥å‚æ•°ï¼ˆå¯é€‰ï¼‰ï¼Œæ‰§è¡Œä¸€ç³»åˆ—æ“ä½œï¼Œå¹¶è¿”å›ä¸€ä¸ªå€¼ï¼ˆå¯é€‰ï¼‰ã€‚

> éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒRust ä»£ç ä¸­çš„å‡½æ•°å’Œå˜é‡åä½¿ç”¨*`snake_case`*è§„èŒƒé£æ ¼ã€‚åœ¨ snake_case ä¸­ï¼Œæ‰€æœ‰å­—æ¯éƒ½æ˜¯å°å†™å¹¶ä½¿ç”¨ä¸‹åˆ’çº¿åˆ†éš”å•è¯ã€‚è€Œåœ¨Javaã€JavaScriptç­‰è¯­è¨€ä¸­çº¦å®šçš„æ˜¯`CamelCase`é©¼å³°å¼å‘½åï¼Œå½“ç„¶å¦‚æœåœ¨Rustä¸­ä½¿ç”¨é©¼å³°å¼å‘½åç¨‹åºä¹Ÿèƒ½è·‘èµ·æ¥ï¼Œåªä¸è¿‡ä»£ç æ¯”è¾ƒè¾£çœ¼ç›~ğŸ‘€
> 
- æ¯”å–»
    
    ç¼–ç¨‹è¯­è¨€ä¸­çš„å‡½æ•°å…¶å®è·Ÿæ•°å­¦ä¸­çš„å‡½æ•°ï¼ˆå¦‚y=f(x))æ˜¯ä¸€ä¸ªæ¦‚å¿µï¼Œæ ¹æ®è¾“å…¥å€¼æ±‚è¾“å‡ºå€¼ï¼Œå°±åƒä¸€å…ƒäºŒæ¬¡ã€ä¸‰æ¬¡ã€å¤šé¡¹å¼ç­‰å‡½æ•°é‚£æ ·ï¼Œç¨‹åºä¸­çš„å‡½æ•°ä¹Ÿæ˜¯å¤šç§å¤šæ ·çš„ï¼Œæˆ‘ä»¬æ¥ç€å¾€ä¸‹çœ‹ã€‚
    
- çœŸå®ç”¨ä¾‹
    
    æåˆ°å‡½æ•°æˆ‘ä»¬ä¸å¾—ä¸ä»‹ç» solana ä¸­çš„å…¥å£ç‚¹å‡½æ•°`process_instruction`ï¼Œè¿™æ˜¯solana ä¸­ç¨‹åºçš„æ‰§è¡Œå…¥å£ï¼š
    
    ```rust
    // æ ‡è®° process_instruction å‡½æ•°ä¸ºç¨‹åºçš„å…¥å£ç‚¹
    entrypoint!(process_instruction);
    
    // å‡½æ•°åé‡‡ç”¨è›‡å½¢å‘½åæ³•
    pub fn process_instruction(
    		// å‚æ•°å¿…é¡»æ˜¾å¼æŒ‡å®šç±»å‹
        program_id: &Pubkey,
        accounts: &[AccountInfo],
        instruction_data: &[u8]
    		// å‡½æ•°è¿”å›å€¼ä¸º ProgramResult æšä¸¾
    ) -> ProgramResult {
        msg!("Hello, world!");
    
        Ok(())
    }
    
    // è¿”å›å€¼ç±»å‹ä¸ºæšä¸¾ï¼Œæˆå‘˜å˜é‡ä¸º Result ç±»å‹
    enum ProgramResult {
    		// å¯çœç•¥Result::å‰ç¼€ï¼Œç›´æ¥ä½¿ç”¨ OK
        Ok(()),
    		// Errçš„å€¼ä»æ˜¯ä¸€ä¸ªæšä¸¾ç±»å‹
        Err(ProgramError),
    }
    
    // é”™è¯¯æšä¸¾
    pub enum ProgramError {
        Custom(u32),
        InvalidArgument,
        InvalidInstructionData,
    		â€¦â€¦
    }
    ```
    

### Documentation

ç°åœ¨æˆ‘ä»¬æ¥çœ‹ä¸‹å‡½æ•°çš„å„ä¸ªç»„æˆéƒ¨åˆ†ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ**å‡½æ•°çš„å‚æ•°éœ€è¦æ˜¾å¼çš„æ ‡æ³¨ç±»å‹**ï¼Œä¸ä»…æœ‰åŠ©äºæé«˜ä»£ç çš„å¯è¯»æ€§ï¼Œä¹Ÿæœ‰åŠ©äº Rust æä¾›æ›´å¼ºçš„ç±»å‹å®‰å…¨æ€§ï¼Œå¸®åŠ©ç¼–è¯‘å™¨åœ¨ç±»å‹ä¸åŒ¹é…æ—¶å‘ç°é”™è¯¯ï¼Œæä¾›æœ‰ç”¨çš„é”™è¯¯ä¿¡æ¯ã€‚

```solidity
// fn ä¸ºå£°æ˜å‡½æ•°çš„å…³é”®å­—
// unsafe_add()æ˜¯å‡½æ•°åï¼Œå‡½æ•°çš„å‘½åè¦éµå¾ª snake_case çš„è§„èŒƒï¼ŒåŒæ—¶è¦è§åçŸ¥æ„ï¼Œæé«˜ä»£ç çš„å¯è¯»æ€§
// i å’Œ j æ˜¯å…¥å‚ï¼Œå¹¶ä¸”éœ€è¦æ˜¾å¼æŒ‡å®šå‚æ•°ç±»å‹
// --> i32 è¡¨æ˜å‡ºå‚ä¹Ÿæ˜¯ i32 ç±»å‹
fn unsafe_add(i: i32, j: i32) -> i32 {
   // è¡¨è¾¾å¼å½¢å¼ï¼Œæ‰€ä»¥å‡½æ•°ä¼šåœ¨è®¡ç®—æ±‚å’Œåè¿”å›è¯¥å€¼
   i + j
}
```

æˆ‘ä»¬åœ¨å‰é¢ç« èŠ‚äº†è§£åˆ°æ•´æ•°ç›¸åŠ å¯èƒ½ä¼š**æº¢å‡º**ï¼Œä½†è¿™é‡Œå¹¶æ²¡æœ‰ç‰¹æ®Šå¤„ç†ï¼Œæ‰€ä»¥`unsafe_add`æ›´å®¹æ˜“æé†’å¼€å‘è€…ï¼Œè¿™ä¸ªç›¸åŠ æ˜¯ä¸å®‰å…¨çš„ï¼Œè¦æ³¨æ„å•¦~

### FAQ

**Q1ï¼šRust ä¸ºä»€ä¹ˆè¦è®¾è®¡æ²¡æœ‰ä»»ä½•è¿”å›å€¼çš„å•å…ƒç±»å‹() ?**

Aï¼šRustæ˜¯ä¸€é—¨é™æ€ç±»å‹è¯­è¨€ï¼Œå®ƒåœ¨ç¼–è¯‘æ—¶éœ€è¦ç¡®å®šæ¯ä¸ªå‡½æ•°çš„è¿”å›ç±»å‹ã€‚
å½“å‡½æ•°ä½“ä¸­æ²¡æœ‰è¿”å›è¯­å¥æˆ–è¡¨è¾¾å¼æ—¶ï¼Œç¼–è¯‘å™¨æ— æ³•ç¡®å®šå‡½æ•°çš„è¿”å›ç±»å‹åº”è¯¥æ˜¯ä»€ä¹ˆã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒRustå¼•å…¥äº†å•å…ƒç±»å‹`()`ä½œä¸ºä¸€ç§ç‰¹æ®Šçš„ç±»å‹ï¼Œè¡¨ç¤ºæ²¡æœ‰è¿”å›å€¼çš„å‡½æ•°ã€‚ç±»ä¼¼äºå…¶ä»–è¯­è¨€ä¸­çš„`void`ç±»å‹ï¼Œé€šå¸¸ç”¨äºæ‰“å°æ¶ˆæ¯ã€å†™å…¥æ–‡ä»¶ç­‰ä¸€äº›ä¸éœ€è¦è¿”å›å€¼çš„æ“ä½œã€‚

**Q2ï¼šä»€ä¹ˆæ˜¯å‘æ•£å‡½æ•°ï¼ˆDiverging Functionsï¼‰?**

Aï¼šæŒ‡çš„æ˜¯æ°¸è¿œä¸ä¼šè¿”å›çš„å‡½æ•°ï¼Œç”šè‡³è¿é»˜è®¤çš„`å•å…ƒç±»å‹()`è¿”å›å€¼éƒ½æ²¡æœ‰ï¼Œè¿™äº›å‡½æ•°é€šå¸¸ç”¨`!`ç±»å‹æ¥æ ‡æ³¨ã€‚é€šå¸¸ç”¨äºå¤„ç†é”™è¯¯æˆ–ä¸å¯æ¢å¤çš„æƒ…å†µï¼Œå¹¶é€šè¿‡ç»ˆæ­¢ç¨‹åºçš„æ‰§è¡Œæ¥è¡¨è¾¾è¿™ç§çŠ¶æ€ã€‚

# Example/ç¤ºä¾‹ä»£ç 

æˆ‘ä»¬åœ¨è¿™é‡Œå±•ç¤º Rust ç‰¹æœ‰çš„ä¸€äº›å‡½æ•°ï¼šè¡¨è¾¾å¼ä½œä¸ºè¿”å›å€¼çš„å‡½æ•°ã€å•å…ƒç±»å‹`()`ä½œä¸ºè¿”å›å€¼çš„å‡½æ•° ä»¥åŠ æ°¸ä¸è¿”å›çš„å‘æ•£å‡½æ•°ã€‚

```rust
// è¡¨è¾¾å¼ä½œä¸ºè¿”å›å€¼çš„å‡½æ•°
fn max_plus_one(x: i32, y: i32) -> i32 {
    if x > y {
        // å‘½ä¸­è¯¥è§„åˆ™ï¼Œå¯é€šè¿‡returnç›´æ¥è¿”å›
        return x + 1;
    }

    // æœ€åä¸€è¡Œæ˜¯è¡¨è¾¾å¼ï¼Œå¯ä½œä¸ºå‡½æ•°è¿”å›å€¼
    // æ³¨æ„ï¼Œè¿™é‡Œä¸èƒ½æœ‰åˆ†å·ï¼Œå¦åˆ™å°±æ˜¯è¯­å¥
    y + 1
}

// å•å…ƒç±»å‹()ä½œä¸ºè¿”å›å€¼çš„å‡½æ•°
// è¯¥å‡½æ•°æ²¡æœ‰æ˜¾å¼æ‰§è¡Œè¿”å›å€¼ç±»å‹ï¼ŒRusté»˜è®¤è¿”å›å•å…ƒç±»å‹()
fn print_hello() {
    // è¿™é‡Œæ˜¯ä¸ªè¯­å¥ï¼Œä¸æ˜¯è¡¨è¾¾å¼
    println!("hello");
}

// æ°¸ä¸è¿”å›çš„å‘æ•£å‡½æ•°ï¼Œç”¨!æ ‡è¯†
fn diverging() -> ! {
    // æŠ›å‡ºpanicå¼‚å¸¸ï¼Œç»ˆæ­¢ç¨‹åºè¿è¡Œ
    panic!("This function will never return!");
}
```