# Content/内容

### 目标

本节的目标是学习一种 Layer 2 的实现方式，叫做侧链。

### 问题

1. Alice 开始与客户们采取状态通道的方式来进行交易，但是 Alice 的客户们太多了，遍布全球，每个客户都需要开一个单独的状态通道让 Alice 一个人有些难以管理。因为状态通道里面的交易需要双方都进行签名，以证明其参与和同意了这一笔交易，当 Alice 的公司停电或者她去上厕所的时候其实交易就无法继续进行下去了。

2. 状态通道里面其实 Alice 只能与客户们进行简单的转账交易，但其实有的时候她们还想做一些活动比如打折，升级之类的，这些东西状态通道做不了。

### 解决方案

因为这些问题的存在，Alice 就去找 Bob 请教，Bob 告诉了她一种方法叫做侧链。具体的方案如下：

- Alice 和客户们一起创建一个新的区块链 X，这个区块链有自己独立的共识机制和规则，节点就是 Alice 和她的客户们以及一些知名的跨境电商机构在运行。
- Alice 和客户们都分别将一定数量的 BTC 在 Bitcoin 一层网络进行锁定，然后在这个新的区块链 X 上生成相同数量侧链版的 BTC（SideBTC）。
- 在侧链上，Alice 就可以和客户们进行各种交易和操作，包括代币转移、智能合约执行等。
- 当 Alice 或者客户们希望将侧链资产转移到 Bitcoin 一层网络时，他们就将相应数量的侧链资产锁定，并在 Bitcoin 一层网络上生成相应的解锁交易，解锁交易被确认后，相应数量的 BTC 就在 Bitcoin 一层网络上解锁并可用了。

如此一来，Alice 的问题解决了，她非常开心，打算明天就试试这个方案。

### **小结**

这一小节我们学习了侧链这种方案，它的技术原理如下：

1. 创建侧链：参与者们一起创建一个独立的区块链X，该区块链具有自己的共识机制和规则。
2. 锁定资产：参与者们在比特币一层网络上锁定一定数量的BTC，并在侧链X上生成相同数量的侧链版BTC（SideBTC）。
3. 侧链交易：在侧链X上，参与者们可以进行各种交易和操作，包括代币转移和智能合约执行等。
4. 转移资产：当参与者们希望将侧链资产转移到比特币一层网络时，他们将相应数量的侧链资产锁定，并在比特币一层网络上生成相应的解锁交易。
5. 解锁资产：解锁交易在比特币一层网络上确认后，相应数量的BTC就在比特币一层网络上解锁并可用。

它解决了状态通道个数过多难以维护，和状态通道支持的交易种类过于局限的问题。

### 下一节

刚才提到侧链可以解决的一些问题。
但是侧链本身是否有什么缺点呢？同学们可以思考一下。
下一小节我们会讨论侧链的缺点，然后再学习一种新的 Layer2 的实现方式。

# Learn More

侧链是一项起源于比特币社区的技术，于2013 年 12 月提出，2014 年 4 月由 Blockstream 公司主导研发，在 2014 年 10 月正式公开。

侧链是与主链兼容的区块链网络，运用跨链机制实现从主链到侧链的资产转移，并在侧链上部署应用，解决主链网络拥堵的问题。且与主链相比，侧链是独立的系统，技术和理念上有进一步的优化空间，支持使用更高效处理交易的共识算法。

代表项目：

- [Polygon PoS](https://polygon.technology/solutions/polygon-pos)
- [Skale](https://skale.network/)
- [Gnosis Chain（原 xDai）](https://www.gnosischain.com/)
- [Loom Network](https://loomx.io/)
- [Metis Andromeda](https://www.metis.io/)